{"version":3,"file":"index.js","sources":["../../src/hw/util.ts","../../src/hw/DelimiterParser.ts","../../node_modules/tslib/tslib.es6.js","../../src/hw/WebSerialDevice.ts","../../src/hw/wiseXboard/WiseXboardControl.ts","../../src/hw/wiseXboard/index.ts","../../src/hw/wiseXboardPremium/WiseXboardPremiumControl.ts","../../src/hw/wiseXboardPremium/index.ts","../../src/index.ts"],"sourcesContent":["export function arrayIndexOf(src: Uint8Array, needle: Uint8Array): number {\n    const needleLen = needle.length\n    if (src.length < needleLen) return -1\n    for (let i = 0; i < src.length - needleLen + 1; i++) {\n        let found = true\n        for (let k = 0; k < needle.length; k++) {\n            if (src[i + k] !== needle[k]) {\n                found = false\n                break\n            }\n        }\n        if (found) {\n            return i\n        }\n    }\n    return -1\n}\n\nexport function arrayConcat(arr1: Uint8Array, arr2: Uint8Array): Uint8Array {\n    const result = new Uint8Array(arr1.length + arr2.length)\n    result.set(arr1)\n    result.set(arr2, arr1.length)\n    return result\n}\n","import { Observable } from 'rxjs'\nimport { arrayConcat, arrayIndexOf } from './util'\n\nexport interface DelimiterParserOptions {\n  delimiter: Uint8Array\n  includeDelimiter?: boolean\n}\n\ntype TransformFn = (upstream: Observable<Uint8Array>) => Observable<Uint8Array>\ntype ChunkHandlerFn = (chunk: Uint8Array) => void\n\nexport class DelimiterParser {\n  private buffer: Uint8Array\n  private delimiter: Uint8Array\n  private includeDelimiter: boolean\n\n  constructor(opts: DelimiterParserOptions) {\n    this.delimiter = opts.delimiter\n    this.includeDelimiter = opts.includeDelimiter === true\n    this.buffer = new Uint8Array(0)\n  }\n\n  enqueue = (chunk: Uint8Array, callback: ChunkHandlerFn) => {\n    let data = arrayConcat(this.buffer, chunk)\n    let pos\n    while ((pos = arrayIndexOf(data, this.delimiter)) !== -1) {\n      const pktLen = pos + (this.includeDelimiter ? this.delimiter.length : 0)\n      callback(data.slice(0, pktLen))\n      data = data.slice(pos + this.delimiter.length)\n    }\n\n    // TODO 최대 버퍼링 길이보다 크면 버리는게 좋겠다\n    this.buffer = data\n  }\n\n  static parse = (opts: DelimiterParserOptions): TransformFn => {\n    const parser = new DelimiterParser(opts)\n    return (upstream: Observable<Uint8Array>) => {\n      return new Observable((subscriber) => {\n        const subscription = upstream.subscribe({\n          next: (chunk) => {\n            if (!subscriber.closed) {\n              parser.enqueue(chunk, (parsedChunk) => {\n                if (!subscriber.closed && parsedChunk.length > 0) {\n                  subscriber.next(parsedChunk)\n                }\n              })\n            }\n          },\n          error: subscriber.error,\n          complete: subscriber.complete,\n        })\n\n        return () => {\n          subscription.unsubscribe()\n        }\n      })\n    }\n  }\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import {\n    BehaviorSubject,\n    EMPTY,\n    filter,\n    firstValueFrom,\n    map,\n    Observable,\n    Subject,\n    switchMap,\n    take,\n    timeout,\n} from \"rxjs\";\nimport { BufferTimestamped, HwDeviceState, IDevice } from \"@ktaicoder/hcp-base\";\n\nexport class WebSerialDevice implements IDevice {\n    private deviceState$ = new BehaviorSubject<HwDeviceState>(\"closed\");\n\n    private receivedData$ = new Subject<BufferTimestamped>();\n\n    private port_?: SerialPort;\n\n    private reader_?: ReadableStreamDefaultReader;\n\n    private writer_?: WritableStreamDefaultWriter;\n\n    private readLoopPromise_?: Promise<void>;\n\n    private writablePromise_?: Promise<void>;\n\n    /**\n     * implement IDevice\n     */\n    observeDeviceState = (): Observable<HwDeviceState> => this.deviceState$.asObservable();\n\n    /**\n     * implement IDevice\n     */\n    waitUntilOpened = (timeoutMilli = 0): Promise<boolean> => {\n        if (timeoutMilli > 0) {\n            return firstValueFrom(\n                this.deviceState$.pipe(\n                    filter((it) => it === \"opened\"),\n                    take(1),\n                    timeout({ first: timeoutMilli }),\n                    map(() => true)\n                )\n            );\n        } else {\n            return firstValueFrom(\n                this.deviceState$.pipe(\n                    filter((it) => it === \"opened\"),\n                    take(1),\n                    map(() => true)\n                )\n            );\n        }\n    };\n\n    /**\n     * implement IDevice\n     */\n    observeReceivedData = (): Observable<BufferTimestamped> => {\n        return this.deviceState$.pipe(\n            switchMap((state) => (state === \"opened\" ? this.receivedData$.asObservable() : EMPTY))\n        );\n    };\n\n    /**\n     * 연결 여부\n     * implement IDevice\n     */\n    isOpened = (): boolean => {\n        return this.deviceState$.value === \"opened\";\n    };\n\n    /**\n     * 디바이스 열기\n     * implement IDevice\n     */\n    open = async (port: SerialPort, options: SerialOptions): Promise<void> => {\n        console.log(\"WebSerialDevice.open\", options);\n        this.deviceState$.next(\"opening\");\n\n        if (!port.readable) {\n            try {\n                await port.open(options);\n            } catch (err) {\n                console.log(err);\n            }\n        }\n\n        if (!port.readable) {\n            this.deviceState$.next(\"closed\");\n            return;\n        }\n\n        this.onOpened_(port);\n    };\n\n    private onOpened_ = (port: SerialPort) => {\n        this.port_ = port;\n        this.deviceState$.next(\"opened\");\n        this.readLoopPromise_ = this.startReadLoop_();\n    };\n\n    private startReadLoop_ = async () => {\n        while (this.deviceState$.value === \"opened\") {\n            if (!this.port_ || !this.port_.readable) {\n                await new Promise((resolve) => setTimeout(resolve, 100));\n                continue;\n            }\n            console.log(\"SerialPortManager.startReadLoop_\");\n            const reader = this.port_.readable.getReader();\n            this.reader_ = reader;\n            try {\n                while (this.deviceState$.value === \"opened\") {\n                    const { value: dataBuffer, done } = await reader.read();\n                    if (done) {\n                        break;\n                    }\n\n                    if (dataBuffer) {\n                        this.receivedData$.next({ timestamp: Date.now(), dataBuffer });\n                    }\n                }\n            } catch (err) {\n                // Handle non-fatal\n                console.info(\"ignore error\", err);\n            } finally {\n                reader.releaseLock();\n                this.reader_ = undefined;\n            }\n        }\n    };\n\n    /**\n     * write to serial port\n     * @param value data to send\n     * @returns Promise<void>\n     *\n     * implement IDevice\n     */\n    write = async (value: Uint8Array): Promise<void> => {\n        const port = this.port_;\n        if (!port || !port.writable) {\n            console.log(\"port is not opened\");\n            return;\n        }\n\n        if (port.writable.locked) {\n            console.log(\"port is locked\");\n            return;\n        }\n        const writer = port.writable.getWriter();\n        try {\n            this.writer_ = writer;\n            await writer.write(value);\n        } finally {\n            writer.releaseLock();\n            this.writer_ = undefined;\n        }\n    };\n\n    /**\n     * implement IDevice\n     */\n    close = async () => {\n        if (this.deviceState$.value === \"closed\") {\n            console.log(\"ignore close, already closed\");\n            return;\n        }\n\n        if (this.deviceState$.value === \"closing\") {\n            console.log(\"ignore close, already closing\");\n            return;\n        }\n\n        this.deviceState$.next(\"closing\");\n        if (this.reader_) {\n            this.reader_.cancel();\n            this.reader_ = undefined;\n        }\n\n        if (this.readLoopPromise_) {\n            await this.readLoopPromise_.catch(() => {\n                /* ignore error */\n            });\n            this.readLoopPromise_ = undefined;\n        }\n\n        if (this.writer_) {\n            if (!this.writer_.closed) {\n                this.writer_.close();\n            }\n            this.writer_ = undefined;\n        }\n\n        if (this.writablePromise_) {\n            await this.writablePromise_;\n            this.writablePromise_ = undefined;\n        }\n\n        if (this.port_) {\n            this.port_.close().catch(() => {\n                /* ignore error */\n            });\n            this.port_ = undefined;\n        }\n\n        this.deviceState$.next(\"closed\");\n    };\n}\n","import { IHwControl } from '@ktaicoder/hcp-base'\nimport { filter, firstValueFrom, map, Observable, shareReplay, timestamp } from 'rxjs'\nimport { DelimiterParser } from '../DelimiterParser'\nimport { WebSerialDevice } from '../WebSerialDevice'\n\nconst DEBUG = true\n\nconst DELIMITER = new Uint8Array([0x52, 0x58, 0x3d, 0x0, 0x0e])\n\nconst chr = (ch: string): number => ch.charCodeAt(0)\n\nexport class WiseXboardControl implements IHwControl {\n    private chunk$: Observable<{ value: Uint8Array; timestamp: number }>\n\n    constructor(private device_: WebSerialDevice) {\n        this.chunk$ = this.device_.observeReceivedData().pipe(\n            map((it) => it.dataBuffer),\n            DelimiterParser.parse({\n                delimiter: DELIMITER,\n                includeDelimiter: false,\n            }),\n            timestamp(),\n            shareReplay(1),\n        )\n    }\n\n    private readNext_ = async (ctx: any): Promise<Uint8Array> => {\n        const minTimestamp = Date.now()\n        return firstValueFrom(\n            this.chunk$.pipe(\n                filter((it) => it.timestamp > minTimestamp),\n                map((it) => it.value),\n            ),\n        )\n    }\n\n    observeData = (): Observable<Uint8Array> => {\n        return this.chunk$.pipe(map((it) => it.value))\n    }\n\n    // isReadable = (): boolean => {\n    //     return this.device_.isOpened()\n    // }\n\n    private async sendPacketMRTEXE_(exeIndex: number) {\n        const pkt = [0xff, 0xff, 0x4c, 0x53, 0, 0, 0, 0, 0x30, 0x0c, 0x03, exeIndex, 0, 100, 0]\n        for (let i = 6; i < 14; i++) {\n            pkt[14] += pkt[i]\n        }\n        await this.device_.write(new Uint8Array(pkt))\n    }\n\n    analogRead = async (ctx: any): Promise<number[]> => {\n        const values = await this.readNext_(ctx)\n        // [pin1 ~ pin5]\n        return new Array(5).fill(0).map((_, i) => values[i] ?? 0)\n    }\n\n    digitalRead = async (ctx: any): Promise<number[]> => {\n        const values = await this.analogRead(ctx)\n        // [pin1 ~ pin5]\n        return values.map((v) => (v > 100 ? 1 : 0))\n    }\n\n    digitalWrite = async (ctx: any, pin: number, value: number): Promise<void> => {\n        value = value > 0 ? 1 : 0\n\n        const pkt = [chr('X'), chr('R'), 2, 0, 0, 0, 0, 0, chr('S')]\n        pkt[2 + pin] = value\n        if (DEBUG) console.log(`digitalWrite: pin=${pin}, value=${value}`)\n        await this.device_.write(new Uint8Array(pkt))\n    }\n\n    setHumanoidMotion = async (ctx: any, index: number): Promise<void> => {\n        const pkt = [0xff, 0xff, 0x4c, 0x53, 0, 0, 0, 0, 0x30, 0x0c, 0x03, index, 0, 100, 0]\n        for (let i = 6; i < 14; i++) {\n            pkt[14] += pkt[i]\n        }\n        await this.device_.write(new Uint8Array(pkt))\n    }\n\n    stopDCMotor = async (ctx: any): Promise<void> => {\n        const pkt = [chr('X'), chr('R'), 0, 0, 0, 0, 0, 0, chr('S')]\n        await this.device_.write(new Uint8Array(pkt))\n        await this.sendPacketMRTEXE_(2)\n    }\n\n    setDCMotorSpeed = async (ctx: any, l1: number, r1: number, l2: number, r2: number): Promise<void> => {\n        if (l1 < -10) l1 = -10\n        if (r1 < -10) r1 = -10\n        if (l2 > 10) l2 = 10\n        if (r2 > 10) r2 = 10\n\n        if (l1 < 0) l1 = 256 + l1\n        if (l2 < 0) l2 = 256 + l2\n        if (r1 < 0) r1 = 256 + r1\n        if (r2 < 0) r2 = 256 + r2\n        if (DEBUG) console.log(`setDCMotorSpeed : l1: ${l1}, r1:${r1}, l2:${l2}, r2: ${r2}`)\n        await this.device_.write(new Uint8Array([chr('X'), chr('R'), 0, l1, r1, l2, r2, 0, chr('S')]))\n        await this.sendPacketMRTEXE_(2)\n    }\n\n    setServoMotorAngle = async (ctx: any, pinNum: number, angle: number): Promise<void> => {\n        if (DEBUG) console.log(`setServoMotorAngle : pinNo: ${pinNum}, angle:${angle}`)\n\n        if (angle < -90) angle = -90\n        if (angle > 90) angle = 90\n        if (angle < 0) angle = 255 + angle\n\n        if (pinNum < 1) pinNum = 1\n        if (pinNum > 5) pinNum = 5\n\n        await this.device_.write(new Uint8Array([chr('X'), chr('R'), 3, pinNum, angle, 0, 0, 0, chr('S')]))\n        await this.sendPacketMRTEXE_(2)\n    }\n\n    onAfterOpen = async (ctx: any): Promise<void> => {\n        if (DEBUG) console.log('XXX onAfterOpen()')\n    }\n\n    onBeforeClose = async (ctx: any): Promise<void> => {\n        if (DEBUG) console.log('XXX onBeforeClose()')\n\n        // 모터 중지\n        try {\n            await this.stopDCMotor(ctx)\n        } catch (err) {}\n\n        try {\n            // 모든 LED OFF\n            // 아무핀에나 0을 쓰면 모두 0이 된다.\n            await this.digitalWrite(ctx, 1, 0)\n        } catch (ignore) {}\n    }\n}\n","import { IHw } from '@ktaicoder/hcp-base'\nimport { WebSerialDevice } from '../WebSerialDevice'\nimport { WiseXboardControl } from './WiseXboardControl'\n\nconst DELIMITER = Buffer.from([0x52, 0x58, 0x3d, 0x0, 0x0e])\n\nexport const wiseXboard: IHw = {\n    hwId: 'wiseXboard',\n    hwKind: 'serial',\n    createControl: (ctx: any) => {\n        const { device } = ctx as { device: WebSerialDevice }\n        return new WiseXboardControl(device)\n    },\n}\n","import { IHwControl } from '@ktaicoder/hcp-base'\nimport { filter, firstValueFrom, map, Observable, shareReplay, timestamp } from 'rxjs'\nimport { DelimiterParser } from '../DelimiterParser'\nimport { WebSerialDevice } from '../WebSerialDevice'\n\nconst DEBUG = true\n\nconst DELIMITER = new Uint8Array([0x23, 0x08, 0x0])\n\nexport class WiseXboardPremiumControl implements IHwControl {\n    private chunk$: Observable<{ value: Uint8Array; timestamp: number }>\n\n    constructor(private device_: WebSerialDevice) {\n        this.chunk$ = this.device_.observeReceivedData().pipe(\n            map((it) => it.dataBuffer),\n            DelimiterParser.parse({\n                delimiter: DELIMITER,\n                includeDelimiter: false,\n            }),\n            timestamp(),\n            shareReplay(1),\n        )\n    }\n\n    private readNext_ = async (minTimestamp: number): Promise<Uint8Array> => {\n        return firstValueFrom(\n            this.chunk$.pipe(\n                filter((it) => it.timestamp > minTimestamp),\n                map((it) => it.value),\n            ),\n        )\n    }\n\n    observeData = (): Observable<Uint8Array> => {\n        return this.chunk$.pipe(map((it) => it.value))\n    }\n\n    isReadable = (): boolean => {\n        return this.device_.isOpened()\n    }\n\n    /**\n     * DC 모터1,2 속도 설정\n     */\n    async setDCMotorSpeedP(l1: number, r1: number, l2: number, r2: number): Promise<void> {\n        if (l1 < -100) l1 = -100\n        if (r1 < -100) r1 = -100\n        if (l1 > 100) l1 = 100\n        if (r1 > 100) r1 = 100\n        if (l2 < -100) l2 = -100\n        if (r2 < -100) r2 = -100\n        if (l2 > 100) l2 = 100\n        if (r2 > 100) r2 = 100\n        if (l1 < 0) l1 = 256 + l1\n        if (l2 < 0) l2 = 256 + l2\n        if (r1 < 0) r1 = 256 + r1\n        if (r2 < 0) r2 = 256 + r2\n\n        if (DEBUG) console.log(`setDCMotorSpeedP : l1: ${l1}, r1:${r1}, l2:${l2}, r2: ${r2}`)\n        const buf = [0x23, 5, 0x82, l1, r1, l2, r2, 0]\n        let cksum = 0\n        for (let i = 2; i < buf.length - 1; i++) {\n            cksum ^= buf[i]\n        }\n        buf[buf.length - 1] = cksum\n        await this.device_.write(new Uint8Array(buf))\n    }\n    /**\n     * DC 모터1 속도 설정\n     */\n    async setDCMotor1SpeedP(l1: number, r1: number): Promise<void> {\n        if (l1 < -100) l1 = -100\n        if (r1 < -100) r1 = -100\n        if (l1 > 100) l1 = 100\n        if (r1 > 100) r1 = 100\n        if (l1 < 0) l1 = 256 + l1\n        if (r1 < 0) r1 = 256 + r1\n\n        if (DEBUG) console.log(`setDCMotor1SpeedP : l1: ${l1}, r1:${r1}`)\n        const buf = [0x23, 3, 0x85, l1, r1, 0]\n        let cksum = 0\n        for (let i = 2; i < buf.length - 1; i++) {\n            cksum ^= buf[i]\n        }\n        buf[buf.length - 1] = cksum\n        await this.device_.write(new Uint8Array(buf))\n    }\n\n    /**\n     * DC 모터2 속도 설정\n     */\n    async setDCMotor2SpeedP(l2: number, r2: number): Promise<void> {\n        if (l2 < -100) l2 = -100\n        if (r2 < -100) r2 = -100\n        if (l2 > 100) l2 = 100\n        if (r2 > 100) r2 = 100\n        if (l2 < 0) l2 = 256 + l2\n        if (r2 < 0) r2 = 256 + r2\n\n        if (DEBUG) console.log(`setDCMotor2SpeedP : l2: ${l2}, r2:${r2}`)\n        const buf = [0x23, 3, 0x86, l2, r2, 0]\n        let cksum = 0\n        for (let i = 2; i < buf.length - 1; i++) {\n            cksum ^= buf[i]\n        }\n        buf[buf.length - 1] = cksum\n        await this.device_.write(new Uint8Array(buf))\n    }\n    /**\n     * 일곱개의 핀값을 읽는다\n     */\n    private async _read7(): Promise<number[]> {\n        const buf = await this.readNext_(Date.now())\n\n        if (buf.length != 8) {\n            console.warn('check delimiter', [].slice.call(buf))\n        }\n\n        if (buf.length < 8) {\n            throw new Error('invalid line')\n        }\n\n        let cksum = 0\n        for (let i = 0; i < 7; i++) {\n            cksum ^= buf[i]\n        }\n\n        if (cksum != buf[7]) {\n            throw new Error('checksum mismatch')\n        }\n\n        return new Array(7).fill(0).map((_, i) => buf[i] ?? 0)\n    }\n\n    /**\n     * 일곱개의 핀값을 읽는다\n     * 첵섬이 다르거나, 구분자가 다르면 한번더 시도한다\n     */\n    private async _read7Retry(): Promise<number[]> {\n        let remainCount = 2\n        for (let i = 0; i < remainCount; i++) {\n            remainCount--\n            try {\n                const ret = await this._read7()\n                console.log('_read7Retry() = ', ret)\n                return ret\n            } catch (err: any) {\n                const msg: string = err.message ?? ''\n                if (\n                    msg.includes('checksum mismatch') ||\n                    msg.includes('check delimiter') ||\n                    msg.includes('invalid line')\n                ) {\n                    console.log('retry _read7()')\n                    continue\n                }\n\n                throw err\n            }\n        }\n        return new Array(7).fill(0)\n    }\n\n    /**\n     * 모든 DC 모터 끄기\n     */\n    async stopDCMotorP(): Promise<void> {\n        if (DEBUG) console.log('stopDCMotorP()')\n        const pkt = [0x23, 1, 0x83, 0]\n        let cksum = 0\n        for (let i = 2; i < pkt.length - 1; i++) {\n            cksum ^= pkt[i]\n        }\n        pkt[pkt.length - 1] = cksum\n        await this.device_.write(new Uint8Array(pkt))\n    }\n\n    /**\n     * n번핀 서보모터 각도 angle로 정하기\n     * pinNum = [1,5], angle=[-90, 90]\n     */\n    async setServoMotorAngleP(pinNum: number, angle: number): Promise<void> {\n        if (DEBUG) console.log(`setServoMotorAngleP() : pinNo:${pinNum}, angle:${angle}`)\n\n        if (angle < -90) angle = -90\n        if (angle > 90) angle = 90\n        if (angle < 0) angle = 255 + angle\n\n        // 기존에 속도값은 전달하지 않는다\n        // if (speed > 30) speed = 30\n        // if (speed < 1) speed = 1\n        const speed = 20\n\n        if (pinNum < 3) pinNum = 3\n        if (pinNum > 6) pinNum = 6\n\n        let cksum = 0\n        const buf = [0x23, 4, 0x81, pinNum, angle, speed, 0]\n        for (let i = 2; i < buf.length - 1; i++) {\n            cksum ^= buf[i]\n        }\n        buf[buf.length - 1] = cksum\n        await this.device_.write(new Uint8Array(buf))\n    }\n\n    /**\n     * 리모콘 값 읽기\n     */\n    async readRemoconP(): Promise<number> {\n        if (DEBUG) console.log('readRemoconP()')\n        const values = await this._read7Retry()\n        return values[6]\n    }\n\n    /**\n     * 아날로그 핀 읽기\n     * 일곱개의 핀값을 모두 가져온다\n     */\n    async analogReadP(): Promise<number[]> {\n        if (DEBUG) console.log('analogReadP()')\n        // [pin1 ~ pin7]\n        return this._read7Retry()\n    }\n\n    /**\n     * 디지털 핀 읽기\n     * 일곱개의 핀값을 모두 가져온다\n     */\n    async digitalReadP(): Promise<number[]> {\n        if (DEBUG) console.log('digitalReadP()')\n        // [pin1 ~ pin7]\n        const values = await this._read7Retry()\n        return values.map((it) => (it > 100 ? 1 : 0))\n    }\n\n    /**\n     * 디지털 n번핀 value로 정하기\n     * pinNum = [0~5], value = [0,1]\n     */\n    async digitalWriteP(pinNum: number, value: number): Promise<void> {\n        value = value <= 0 ? 0 : 1\n        pinNum = pinNum <= 0 ? 0 : pinNum >= 5 ? 5 : pinNum\n        if (DEBUG) console.log(`digitalWriteP : pinNo: ${pinNum}, value:${value}`)\n\n        let cksum = 0\n        const buf = [0x23, 3, 0x80, pinNum, value, 0]\n        for (let i = 2; i < buf.length - 1; i++) {\n            cksum ^= buf[i]\n        }\n        buf[buf.length - 1] = cksum\n        if (DEBUG) console.log(`digitalWriteP : buf=`, buf)\n        await this.device_.write(new Uint8Array(buf))\n    }\n\n    /**\n     * 키값 전송\n     */\n    async sendKeyP(key: number): Promise<void> {\n        if (DEBUG) console.log(`sendKeyP(): key: ${key}`)\n\n        let cksum = 0\n        const buf = [0x23, 2, 0x84, key, 0]\n        for (let i = 2; i < buf.length - 1; i++) {\n            cksum ^= buf[i]\n        }\n        buf[buf.length - 1] = cksum\n        await this.device_.write(new Uint8Array(buf))\n    }\n\n    onAfterOpen = async (): Promise<void> => {\n        if (DEBUG) console.log('XXX onAfterOpen()')\n    }\n\n    onBeforeClose = async (): Promise<void> => {\n        if (DEBUG) console.log('XXX onBeforeClose()')\n        if (!this.device_.isOpened) return\n\n        // 모터 중지\n        try {\n            await this.stopDCMotorP()\n        } catch (err) {}\n\n        // 모든 LED OFF\n        try {\n            // 아무핀에나 0을 쓰면 모두 0이 된다.\n            for (let i = 0; i < 7; i++) {\n                await this.digitalWriteP(i, 0)\n            }\n        } catch (ignore) {}\n    }\n}\n","import { IHw } from '@ktaicoder/hcp-base'\nimport { WebSerialDevice } from '../WebSerialDevice'\nimport { WiseXboardPremiumControl } from './WiseXboardPremiumControl'\n\nexport const wiseXboardPremium: IHw = {\n    hwId: 'wiseXboardPremium',\n    hwKind: 'serial',\n    createControl: (ctx: any) => {\n        const { device } = ctx as { device: WebSerialDevice }\n        return new WiseXboardPremiumControl(device)\n    },\n}\n","export * from './hw/DelimiterParser'\nexport * from './hw/WebSerialDevice'\nimport { IHw } from '@ktaicoder/hcp-base'\nimport { wiseXboard } from './hw/wiseXboard'\nimport { wiseXboardPremium } from './hw/wiseXboardPremium'\n\nexport const hardwares: IHw[] = [wiseXboard, wiseXboardPremium]\n"],"names":["Observable","BehaviorSubject","Subject","firstValueFrom","filter","take","timeout","map","switchMap","EMPTY","DELIMITER","timestamp","shareReplay"],"mappings":"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"}